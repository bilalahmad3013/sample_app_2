{"ast":null,"code":"// This file is automatically compiled by Webpack, along with any other files\n// present in this directory. You're encouraged to place your actual application logic in\n// a relevant structure within app/javascript and only use these pack files to reference\n// that code so it'll be compiled.\n\nrequire(\"@rails/ujs\").start();\nrequire(\"turbolinks\").start();\nrequire(\"@rails/activestorage\").start();\nrequire(\"channels\");\nrequire(\"bootstrap\");\ndocument.addEventListener(\"turbolinks:load\", function () {\n  $(function () {\n    $('[data-toggle=\"tooltip\"]').tooltip();\n    $('[data-toggle=\"popover\"]').popover();\n  });\n});\ndocument.addEventListener('click', handleLike);\nfunction handleLike(e) {\n  if (e.target.className === 'like-button') {\n    var micropostId = e.target.getAttribute('id');\n    var buttonText = e.target.innerText;\n    var likes_count = document.getElementById(micropostId);\n    console.log(likes_count);\n    var xhr = new XMLHttpRequest();\n    xhr.open('POST', '/microposts/' + micropostId + '/toggle_like', true);\n    xhr.setRequestHeader('Content-Type', 'application/json');\n    xhr.onload = function () {\n      if (xhr.status === 200) {\n        var responseData = JSON.parse(xhr.responseText);\n        if (responseData.liked) {\n          e.target.innerText = '<i class=\"fa-solid fa-thumbs-down\"></i>';\n          if (responseData.likes_count != undefined) {\n            likes_count.innerText = responseData.likes_count;\n          }\n        } else {\n          e.target.innerText = 'Like';\n          if (responseData.likes_count != undefined) {\n            likes_count.innerText = responseData.likes_count;\n          }\n        }\n      }\n    };\n    xhr.send();\n  }\n}","map":{"version":3,"names":["require","start","document","addEventListener","$","tooltip","popover","handleLike","e","target","className","micropostId","getAttribute","buttonText","innerText","likes_count","getElementById","console","log","xhr","XMLHttpRequest","open","setRequestHeader","onload","status","responseData","JSON","parse","responseText","liked","undefined","send"],"sources":["/home/ongraph/Personals/sample_app/app/javascript/packs/application.js"],"sourcesContent":["// This file is automatically compiled by Webpack, along with any other files\n// present in this directory. You're encouraged to place your actual application logic in\n// a relevant structure within app/javascript and only use these pack files to reference\n// that code so it'll be compiled.\n\nrequire(\"@rails/ujs\").start()\nrequire(\"turbolinks\").start()\nrequire(\"@rails/activestorage\").start()\nrequire(\"channels\")\nrequire(\"bootstrap\");\n\ndocument.addEventListener(\"turbolinks:load\", function () {\n  $(function () {\n    $('[data-toggle=\"tooltip\"]').tooltip();\n    $('[data-toggle=\"popover\"]').popover();\n  });\n});\n\ndocument.addEventListener('click', handleLike);\n   \nfunction handleLike(e){\n if(e.target.className==='like-button'){      \n   var micropostId = e.target.getAttribute('id');\n   var buttonText = e.target.innerText;\n    var likes_count= document.getElementById(micropostId)\n   console.log(likes_count)\n   \n     var xhr = new XMLHttpRequest();        \n     xhr.open('POST', '/microposts/' + micropostId + '/toggle_like', true);\n     xhr.setRequestHeader('Content-Type', 'application/json');\n\n     xhr.onload = function() {          \n       if (xhr.status === 200) {\n         var responseData = JSON.parse(xhr.responseText);            \n         if (responseData.liked) {\n           e.target.innerText = '<i class=\"fa-solid fa-thumbs-down\"></i>';\n           if(responseData.likes_count!=undefined){\n           likes_count.innerText=responseData.likes_count;\n           }\n         } else {\n           e.target.innerText = 'Like';\n           if(responseData.likes_count!=undefined){\n           likes_count.innerText=responseData.likes_count;\n           }\n         }\n       }\n     };\n\n     xhr.send();\n  \n }\n\n}"],"mappings":"AAAA;AACA;AACA;AACA;;AAEAA,OAAO,CAAC,YAAY,CAAC,CAACC,KAAK,CAAC,CAAC;AAC7BD,OAAO,CAAC,YAAY,CAAC,CAACC,KAAK,CAAC,CAAC;AAC7BD,OAAO,CAAC,sBAAsB,CAAC,CAACC,KAAK,CAAC,CAAC;AACvCD,OAAO,CAAC,UAAU,CAAC;AACnBA,OAAO,CAAC,WAAW,CAAC;AAEpBE,QAAQ,CAACC,gBAAgB,CAAC,iBAAiB,EAAE,YAAY;EACvDC,CAAC,CAAC,YAAY;IACZA,CAAC,CAAC,yBAAyB,CAAC,CAACC,OAAO,CAAC,CAAC;IACtCD,CAAC,CAAC,yBAAyB,CAAC,CAACE,OAAO,CAAC,CAAC;EACxC,CAAC,CAAC;AACJ,CAAC,CAAC;AAEFJ,QAAQ,CAACC,gBAAgB,CAAC,OAAO,EAAEI,UAAU,CAAC;AAE9C,SAASA,UAAUA,CAACC,CAAC,EAAC;EACrB,IAAGA,CAAC,CAACC,MAAM,CAACC,SAAS,KAAG,aAAa,EAAC;IACpC,IAAIC,WAAW,GAAGH,CAAC,CAACC,MAAM,CAACG,YAAY,CAAC,IAAI,CAAC;IAC7C,IAAIC,UAAU,GAAGL,CAAC,CAACC,MAAM,CAACK,SAAS;IAClC,IAAIC,WAAW,GAAEb,QAAQ,CAACc,cAAc,CAACL,WAAW,CAAC;IACtDM,OAAO,CAACC,GAAG,CAACH,WAAW,CAAC;IAEtB,IAAII,GAAG,GAAG,IAAIC,cAAc,CAAC,CAAC;IAC9BD,GAAG,CAACE,IAAI,CAAC,MAAM,EAAE,cAAc,GAAGV,WAAW,GAAG,cAAc,EAAE,IAAI,CAAC;IACrEQ,GAAG,CAACG,gBAAgB,CAAC,cAAc,EAAE,kBAAkB,CAAC;IAExDH,GAAG,CAACI,MAAM,GAAG,YAAW;MACtB,IAAIJ,GAAG,CAACK,MAAM,KAAK,GAAG,EAAE;QACtB,IAAIC,YAAY,GAAGC,IAAI,CAACC,KAAK,CAACR,GAAG,CAACS,YAAY,CAAC;QAC/C,IAAIH,YAAY,CAACI,KAAK,EAAE;UACtBrB,CAAC,CAACC,MAAM,CAACK,SAAS,GAAG,yCAAyC;UAC9D,IAAGW,YAAY,CAACV,WAAW,IAAEe,SAAS,EAAC;YACvCf,WAAW,CAACD,SAAS,GAACW,YAAY,CAACV,WAAW;UAC9C;QACF,CAAC,MAAM;UACLP,CAAC,CAACC,MAAM,CAACK,SAAS,GAAG,MAAM;UAC3B,IAAGW,YAAY,CAACV,WAAW,IAAEe,SAAS,EAAC;YACvCf,WAAW,CAACD,SAAS,GAACW,YAAY,CAACV,WAAW;UAC9C;QACF;MACF;IACF,CAAC;IAEDI,GAAG,CAACY,IAAI,CAAC,CAAC;EAEd;AAED"},"metadata":{},"sourceType":"module","externalDependencies":[]}